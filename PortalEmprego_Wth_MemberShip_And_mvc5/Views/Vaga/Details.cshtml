@model PortalEmprego_Wth_MemberShip_And_mvc5.Models.Vaga

@{
    ViewBag.Title = "Details";
}

@section Menu
{
    <div class="list-group">
        <a href="#" class="list-group-item active">Link</a>
        <a href="@Url.Action("Index", "Home")" class="list-group-item">Vagas</a>
    </div>

}

<h2>@Model.descricao</h2>

<fieldset>
    <legend>@Model.Categoria.Nome</legend>

    <div class="navbar-right">
        <a href="@Url.Action("Index", "Home")" class="btn btn-success">Candidatar-se</a>
        <p>

            @{
                if (User.Identity.IsAuthenticated)
                {
                    <div class="btn-group btn-group-sm" role="group" aria-label="...">

                        @using (Html.BeginForm("PublishVaga", "Vaga", new { id = @Model.IdVaga }, FormMethod.Post, null))
                        {
                            @Html.AntiForgeryToken()

                            if (Model.VagaStatu.Status.Trim().Equals("Edited"))
                            {
                                <button type="submit" class="btn btn-default">Publicar Anuncio</button>
                            }
                            else if (Model.VagaStatu.Status.Trim().Equals("Published"))
                            {
                                <button type="submit" class="btn btn-default">Desabilitar Anuncio</button>
                            }
                        }
                    </div>
                }

            }
    </div>

    @Html.HiddenFor(model => model.IdVaga)

    <div class="display-label">
        @Html.DisplayNameFor(model => model.Codigo):

        @Html.DisplayFor(model => model.Codigo)
    </div>

    <div class="display-label">
        @Html.DisplayNameFor(model => model.Recrutador.Nome):

        @Html.DisplayFor(model => model.Recrutador.Nome)
    </div>

    <div class="display-label">
        @Html.DisplayNameFor(model => model.Locai.Nome):

        @Html.DisplayFor(model => model.Locai.Nome)
    </div>

    <div class="display-label">
        @Html.DisplayNameFor(model => model.DataInicio):

        @Html.DisplayFor(model => model.DataInicio)
    </div>

    <div class="display-label">
        @Html.DisplayNameFor(model => model.DataFim):

        @Html.DisplayFor(model => model.DataFim)
    </div>

    @{

        if (User.Identity.IsAuthenticated)
        {

            <div class="display-label">
                @Html.DisplayNameFor(model => model.VagaStatu.Status):


                @if (Model.VagaStatu.Status.Trim().Equals("Edited"))
                {
                    @Html.Label("Nao publicado", new { @class = "label label-danger" })
                }
                else if (Model.VagaStatu.Status.Trim().Equals("Published"))
                {
                    @Html.Label("publicado", new { @class = "label label-success" })
                }
                else
                {
                    @Html.Label("desabilidado", new { @class = "label label-warning" })
                }
            </div>
        }

    }


    <br />


    <h4> Detalhes da Vaga</h4>
    <div class="display-field">
        @Html.Raw(@Model.DetailsVaga)
    </div>


</fieldset>

