@model IEnumerable<PortalEmprego_Wth_MemberShip_And_mvc5.Models.Anuncio>

@{
    ViewBag.Title = "Index";
}

@*==========================header===========================================*@

<!-- Header -->
<div class="header container-title">
    <h6 class="page-title">
        <span class="glyphicon glyphicon-list-alt"></span>
        Gestão de Anúncio: Anúncios
    </h6>
</div>



@*==========================Fim header===========================================*@



    <div class="container-fluid container-main">
        <section id="content">
            <!-- Begin Content -->





            <div class="row-fluid">
                <div class="">
                    <div id="system-message-container">
                    </div>



                    @*<form method="post" name="adminForm" id="adminForm">*@





                    <div class="span2">
                        <div id="sidebar">
                            <div class="sidebar-nav">
                                <ul id="submenu" class="nav nav-list">
                                    <li class="active span12">
                                        <a href="index.php?option=com_content&amp;view=articles">Articles</a>
                                    </li>
                                    <li class="span12">
                                        <a href="index.php?option=com_categories&amp;extension=com_content">Categories</a>
                                    </li>
                                    <li class="span12">
                                        <a href="index.php?option=com_content&amp;view=featured">Featured Articles</a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <div id="j-main-container" class="span10">


                        <div class="row" style="background:#b2b2b2;">

                            <div style="margin-top:20px"></div>
                            <div class="row">
                                <div class="container">
                                    <div class="col-md-12">
                                        <div class="input-group">
                                            <input type="text" class="form-control" placeholder="Recipient's username" aria-describedby="basic-addon2">
                                            <span class="input-group-addon" id="basic-addon2">example.com</span>
                                        </div>

                                    </div>
                                </div>

                            </div>

                            <div class="row">
                                <div class="container">
                                    <div class="col-lg-6">
                                        <div class="input-group">
                                            <span class="input-group-addon">
                                                <input type="checkbox" aria-label="...">
                                            </span>
                                            <input type="text" class="form-control" aria-label="...">
                                        </div><!-- /input-group -->
                                    </div><!-- /.col-lg-6 -->
                                    <div class="col-lg-6">
                                        <div class="input-group">
                                            <span class="input-group-addon">
                                                <input type="radio" aria-label="...">
                                            </span>
                                            <input type="text" class="form-control" aria-label="...">
                                        </div><!-- /input-group -->
                                    </div><!-- /.col-lg-6 -->
                                </div>
                            </div>

                            <div style="margin-bottom:20px"></div>
                        </div>


                        @*@Html.Partial("_SearchPartial")*@
                      
                       
                        @using (@Html.BeginForm("mutipleDetete", "Anuncio", FormMethod.Post))
                        {



        <!-- Subheader -->
                            <a class="btn btn-subhead" data-toggle="collapse" data-target=".subhead-collapse">Toolbar		<i class="icon-wrench"></i></a>
                            <div class=" subhead-collapse collapses">
                                <div class="subhead">
                                    <div class="container-fluid">
                                        <div id="container-collapse" class="container-collapse"></div>
                                        <div class="row-fluid">
                                            <div class="span12">
                                                <div class="btn-toolbar" id="toolbar">
                                                    <div class="btn-wrapper" id="toolbar-apply">
                                                        <a class="btn btn-small btn-success" href="@Url.Action("Create", "Anuncio" )">
                                                            <span class="glyphicon glyphicon-plus-sign"></span>

                                                            Novo
                                                        </a>
                                                    </div>
                                                    <div class="btn-wrapper" id="toolbar-save">
                                                        <button class="btn btn-small" name="action:create">
                                                            <span class="glyphicon glyphicon-edit"></span>
                                                            Editar
                                                        </button>
                                                    </div>
                                                    <div class="btn-wrapper" id="toolbar-save-new">
                                                        <button class="btn btn-small" id="btnPublish">
                                                            <span class="icon-save-new"></span>

                                                            Publicar
                                                        </button>
                                                    </div>
                                                    <div class="btn-wrapper" id="toolbar-cancel">
                                                        <a class="btn btn-small" href="@Url.Action(" index", "Anuncio" )">
                                                            <span class="icon-cancel"></span>
                                                            Ocultar
                                                        </a>
                                                    </div>
                                                    <div class="btn-wrapper" id="toolbar-cancel">
                                                        <a class="btn btn-small" href="@Url.Action(" index", "Anuncio" )">
                                                            <span class="icon-cancel"></span>
                                                            Arquivar
                                                        </a>
                                                    </div>


                                                    <div class="btn-wrapper" id="toolbar-cancel">
                                                        <button class="btn btn-small" id="btnDeleteSubmit" type="submit">
                                                            <span class="icon-cancel"></span>
                                                            Delete
                                                        </button>
                                                    </div>

                                                </div>

                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>


                        }

                        @if (@Model.Count() > 0)
                        {
                            <table class="table table-striped" id="articleList">
                                <thead>
                                    <tr>
                                        <th width="1%" class="nowrap center hidden-phone">
                                            <a href="#" onclick="return false;" class="js-stools-column-order hasTooltip" data-order="a.ordering" data-direction="ASC" data-name="" title="&lt;strong&gt;Ordering&lt;/strong&gt;&lt;br /&gt;Click to sort by this column">
                                                <i class="glyphicon glyphicon-tasks"></i>
                                            </a>
                                        </th>
                                        <th width="1%" class="hidden-phone">
                                            <input type="checkbox" id="checkAll" title="Check All" />
                                        </th>
                                        @*<th width="1%" style="min-width:55px" class="nowrap center">
                                                <a href="#" onclick="return false;" class="js-stools-column-order hasTooltip" data-order="a.state" data-direction="ASC" data-name="Status" title="&lt;strong&gt;Status&lt;/strong&gt;&lt;br /&gt;Click to sort by this column">
                                                    @Html.DisplayNameFor(model => model.Status)
                                                </a>
                                            </th>*@
                                        <th>
                                            <a href="#" onclick="return false;" class="js-stools-column-order hasTooltip" data-order="a.title" data-direction="ASC" data-name="Title" title="&lt;strong&gt;Title&lt;/strong&gt;&lt;br /&gt;Click to sort by this column">
                                                @Html.DisplayNameFor(model => model.title)
                                            </a>
                                        </th>

                                        <th width="10%" class="nowrap hidden-phone">
                                            <a href="#" onclick="return false;" class="js-stools-column-order hasTooltip" data-order="a.created_by" data-direction="ASC" data-name="Author" title="&lt;strong&gt;Author&lt;/strong&gt;&lt;br /&gt;Click to sort by this column">
                                                @Html.DisplayNameFor(model => model.created_by)
                                            </a>
                                        </th>
                                        <th width="5%" class="nowrap hidden-phone">
                                            <a href="#" onclick="return false;" class="js-stools-column-order hasTooltip" data-order="language" data-direction="ASC" data-name="Language" title="&lt;strong&gt;Language&lt;/strong&gt;&lt;br /&gt;Click to sort by this column">
                                                @Html.DisplayNameFor(model => model.Lang)
                                            </a>
                                        </th>
                                        @*<th width="10%" class="nowrap hidden-phone">
                                                <a href="#" onclick="return false;" class="js-stools-column-order hasTooltip" data-order="a.created" data-direction="ASC" data-name="Date" title="&lt;strong&gt;Date&lt;/strong&gt;&lt;br /&gt;Click to sort by this column">
                                                    Date
                                                </a>
                                            </th>
                                            <th width="10%">
                                                <a href="#" onclick="return false;" class="js-stools-column-order hasTooltip" data-order="a.hits" data-direction="ASC" data-name="Hits" title="&lt;strong&gt;Hits&lt;/strong&gt;&lt;br /&gt;Click to sort by this column">
                                                    Hits
                                                </a>
                                            </th>
                                            <th width="1%" class="nowrap hidden-phone">
                                                <a href="#" onclick="return false;" class="js-stools-column-order hasTooltip" data-order="a.id" data-direction="ASC" data-name="ID" title="&lt;strong&gt;ID&lt;/strong&gt;&lt;br /&gt;Click to sort by this column">
                                                    ID				<i class="icon-arrow-down-3"></i>
                                                </a>
                                            </th>*@
                                    </tr>
                                </thead>
                                <tbody>

                                    @Html.EditorForModel()

                                </tbody>
                            </table>

                        }
                        else
                        {

                            <div class="alert alert-no-items">
                                Nenhum resultado encontrado
                            </div>
                        }


                        <div class="pagination pagination-toolbar">

                            <input type="hidden" name="limitstart" value="0" />
                        </div>

                        <div class="modal hide fade" id="collapseModal">
                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal">&#215;</button>
                                <h3>Batch process the selected articles</h3>
                            </div>
                            <div class="modal-body modal-batch">
                                <p>If a category is selected for move/copy, any actions selected will be applied to the copied or moved articles. Otherwise, all actions are applied to the selected articles.</p>
                                <div class="row-fluid">
                                    <div class="control-group span6">
                                        <div class="controls">
                                            <label id="batch-tag-lbl" for="batch-tag-id" class="modalTooltip" title="&lt;strong&gt;Add Tag&lt;/strong&gt;&lt;br /&gt;Add a tag to selected items.">Add Tag</label><select name="batch[tag]" class="inputbox" id="batch-tag-id">
                                                <option value="">- Keep original Tags -</option>
                                                <option value="2">Joomla</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="control-group span6">
                                        <div class="controls">
                                            <label id="batch-language-lbl" for="batch-language-id" class="modalTooltip" title="&lt;strong&gt;Set Language&lt;/strong&gt;&lt;br /&gt;Not making a selection will keep the original language when processing.">Set Language</label><select name="batch[language_id]" class="inputbox" id="batch-language-id">
                                                <option value="">- Keep original Language -</option>
                                                <option value="*">All</option>
                                                <option value="en-GB">English (UK)</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                                <div class="row-fluid">
                                    <div class="control-group span6">
                                        <div class="controls">
                                            <label id="batch-access-lbl" for="batch-access" class="modalTooltip" title="&lt;strong&gt;Set Access Level&lt;/strong&gt;&lt;br /&gt;Not making a selection will keep the original access levels when processing.">Set Access Level</label><select id="batch-access" name="batch[assetgroup_id]" class="inputbox">
                                                <option value="">- Keep original Access Levels -</option>
                                                <option value="1">Public</option>
                                                <option value="5">Guest</option>
                                                <option value="6">Super Users</option>
                                                <option value="2">Registered</option>
                                                <option value="3">Special</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="control-group span6">
                                        <div class="controls">
                                            <label id="batch-choose-action-lbl" for="batch-choose-action">Select Category for Move/Copy</label><div id="batch-choose-action" class="control-group">
                                                <select name="batch[category_id]" class="inputbox" id="batch-category-id">
                                                    <option value="">Select</option>
                                                    <option value="2">Uncategorised</option>
                                                </select>
                                            </div><div id="batch-move-copy" class="control-group radio">
                                                <div class="controls">
                                                    <label for="batch[move_copy]c" id="batch[move_copy]c-lbl" class="radio">

                                                        <input type="radio" name="batch[move_copy]" id="batch[move_copy]c" value="c">Copy
                                                    </label>
                                                    <label for="batch[move_copy]m" id="batch[move_copy]m-lbl" class="radio">

                                                        <input type="radio" name="batch[move_copy]" id="batch[move_copy]m" value="m" checked="checked">Move
                                                    </label>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="modal-footer">
                                <button class="btn" type="button" onclick="document.id('batch-category-id').value='';document.id('batch-access').value='';document.id('batch-language-id').value='';document.id('batch-tag-id)').value=''" data-dismiss="modal">
                                    Cancel
                                </button>
                                <button class="btn btn-primary" type="submit" onclick="Joomla.submitbutton('article.batch');">
                                    Process
                                </button>
                            </div>
                        </div>

                        @*<input type="hidden" name="task" value="" />
                            <input type="hidden" name="boxchecked" value="0" />
                            <input type="hidden" name="5daedcc55a9aa6374fcea32718695672" value="1" />*@
                    </div>


                    @*</form>*@

                </div>
            </div>
            <!-- End Content -->
        </section>

    </div>


    <div id="form-content" class="modal hide fade in" style="display: none;">
        <div class="modal-header">
            <a class="close" data-dismiss="modal">×</a>
            <h3>Send me a message</h3>
        </div>
        <div class="modal-body">
            <form class="contact" name="contact">
                <label class="label" for="name">Your Name</label><br>
                <input type="text" name="name" class="input-xlarge"><br>
                <label class="label" for="email">Your E-mail</label><br>
                <input type="email" name="email" class="input-xlarge"><br>
                <label class="label" for="message">Enter a Message</label><br>
                <textarea name="message" class="input-xlarge"></textarea>
            </form>
        </div>
        <div class="modal-footer">
            <input class="btn btn-success" type="submit" value="Send!" id="submit">
            <a href="#" class="btn" data-dismiss="modal">Nah.</a>
        </div>
    </div>




@section Scripts {

    @* Para fixar o toolbar*@
    <script>
        (function ($) {
            // fix sub nav on scroll
            var $win = $(window)
                , $nav = $('.subhead')
                , navTop = $('.subhead').length && $('.subhead').offset().top - 40, isFixed = 0


            processScroll()

            // hack sad times - holdover until rewrite for 2.1
            $nav.on('click', function () {
                if (!isFixed) {
                    setTimeout(function () {
                        $win.scrollTop($win.scrollTop() - 47)
                    }, 10)
                }
            })

            $win.on('scroll', processScroll)

            function processScroll() {
                var i, scrollTop = $win.scrollTop()
                if (scrollTop >= navTop && !isFixed) {
                    isFixed = 1
                    $nav.addClass('subhead-fixed')
                } else if (scrollTop <= navTop && isFixed) {
                    isFixed = 0
                    $nav.removeClass('subhead-fixed')
                }
            }
        })(jQuery);
    </script>

    <script>
        $(function () {
            $("#checkAll").click(function () {


                $("input[name='anuncioIdsSelected']").prop('checked', this.checked);

                $("input[name='anuncioIdsSelected']").click(function () {
                    if ($("input[name='anuncioIdsSelected']").length == $("input[name='anuncioIdsSelected']:checked").length) {
                        $("#checkAll").prop('checked', true);
                    }
                    else {
                        $("#checkAll").prop('checked', false);
                    }
                });

            });



            $("#btnDeleteSubmit").click(function () {
                var count = $("input[name='anuncioIdsSelected']:checked").length;
                if (count == 0) {
                    alert("No rows selected to delete");
                    return false;
                }
                else {
                    return confirm(count + " row(s) will be deleted");
                }
            });
        });
    </script>

    <script>

        $("#btnPublish").click(function () {

            //alert("ola")

            $.ajax({
                type: "POST",
                url: "/anuncio/index", //process to mail
                data: $('form.contact').serialize(),
                success: function (msg) {
                    $("#thanks").html(msg) //hide button and show thank you
                    $("#form-content").modal('hide'); //hide popup
                },
                error: function () {
                    alert("failure");
                }
            });
        })


    </script>
}